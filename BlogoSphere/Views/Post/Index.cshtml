@model BlogoSphere.Models.Post

@{
	ViewBag.Title = "Index";
}

<div class="container mt-5">
	<div class="">
		<div class="col-12 mb-3 d-inline-flex pt-2">
			<div class="h1 col-8">
				<small><a href="@Url.Action("Details", "Blog", new { Model.Blog.Id })">@Html.DisplayFor(m => Model.Blog.Title)</a> > </small>
				@Html.DisplayFor(modelItem => Model.Title)
			</div>
			@if (User.Identity.IsAuthenticated && (bool)ViewBag.IsOwner)
			{
				<div class="col-4 pt-3 text-right">
					@Html.ActionLink("Edit this Post", "Edit", "Post", new { postid = Model.Id }, new { @class = "btn btn-warning" })
					@Html.ActionLink("Delete this Post", "Delete", "Post", new { postid = Model.Id }, new { @class = "btn btn-danger" })
				</div>
			}
		</div>
		<div class="col-12 d-inline-flex row bg-light p-3 rounded">
			<div class="d-inline-flex flex-wrap col-md-6">
			@foreach (var tag in Model.Tags)
			{
				<div class="rounded-pill bg-success pr-3 pl-3 pt-1 pb-1 mr-2 mb-2">@tag.Name</div>
			}
			</div>
			<div class="col-md-6 text-right text-nowrap">
				Created @Model.Created | Viewed @Session[Model.Id + "views"] times
			</div>
			@if (Model.Image != null)
			{
			<div class="col-12 text-center">
				<img class="shadow img-thumbnail" src="@Model.Image" />
			</div>
			}
			<div class="col-12 mt-3">
				<p class="lead shadow p-2 bg-white" disabled style="white-space:pre-wrap;">@Html.DisplayFor(modelItem => Model.Body)</p>
			</div>
		</div>
	</div>
</div>

<hr />
<div class="offset-md-2 col-md-8 mt-5">@Html.Action("Display", "Comment", new { postid = Model.Id })</div>
<div class="offset-md-2 col-md-8">@Html.Action("Create", "Comment", new { postid = Model.Id })</div>
